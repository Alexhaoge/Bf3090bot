## bf3090bot 管理指令

| 命令                                                       | 作用                                                                         | 备注                                                      |
| --------------------------------------------------------- | -------------------------------------------------------- | ---------------------------------------------------------- |
| **以下命令superuser<br/>和sudogroup可用** | | |
| `{p}adminpl <服名称>` | 查询其他服务器<br/>玩家列表 | 服名称是可搜索到的唯一关键字<br>**回复查询/服管命令对此仍然生效（禁止这样用）** |
| `{p}admindraw <服名称>` | 查询其他服务器<br/>人数变化曲线 | 服名称是可搜索到的唯一关键字 |
| `{p}slk <正则表达式>` | 查询服管日志 | 使用正则表达式查询任意服管日志 |
| `{p}fadmin <服名称>` | 查询其他服管理列表 | 服名称需要是可搜索到的唯一关键字 |
| **以下命令superuser和群主可用** | | |
| `{p}改绑 <服编号1> <服编号2>` | 将该群服编号1<br/>改为服编号2 | |
| `{p}添加服别名 <服编号> <服别名>` | 为该服添加别名 | 每个服只能有一个别名<br/>新别名会覆盖 |
| **以下命令仅superuser可用** | | |
| `{p}addcode/{p}delcode` | 添加删除背景码 | 已使用背景码无法删除 |
| `{p}init <可选群号>` | 初始化该群 | 可选群号为绑定该群到主群<br/>未初始化前多数功能不可用 |
| `{p}sudoinit <待初始化群号> <可选群号>` | 为其他群初始化 | 可选群号为绑定该群到主群 |
| `{p}绑服 <服编号> <服名称>` | 绑服 | 服名称需要是可搜索到的唯一关键字 |
| `{p}管理绑服 <群号> <服编号> <服名称>` | 为其他群绑服 | 服名称需要是可搜索到的唯一关键字 |
| `{p}解绑 <群号> <服编号>` | 为其他群解绑服务器 | 根据提示确认<br/>是否删除从此群上的vban<br/>**操作不可逆!**|
| `{p}删服 <serverid>` | 删服 | 将同时删除服的所有服绑定关系、vban、vip<br/>**操作不可逆!**|
| `{p}删群 <群号>` | 删群 | 将同时删除群成员、管理员和服绑定关系<br/>**操作不可逆!**|
| `{p}bfaccount <eaid> <remid> <sid>` | 添加/刷新<br/>bf1服管账号 | |
| `alias -g` | 全局别名相关 | 所有alias命令添加-g均可 |
| `拉黑群/用户/私聊 <群/用户号>` | 全局拉黑 | 使用黑名单插件 |
| `解禁群/用户/私聊 <群/用户号>` | 全局解禁 | |
| `查看群/用户/私聊黑名单` | 查看全局黑名单 | |
| `/静默` `/响应` | bot直接眠了 | **慎用（要打/才生效）** |
| `拉黑/解禁所有群/好友` | bot直接眠了 | **慎用** |
| `私聊静默/相应` | bot不回私聊 | **慎用** (因为我也没搞懂) |
| `重置所有黑名单` | 删除所有全局黑名单 | **慎用** |
| **其他** | | 通过access-control控制权限 |
| status | picstatus | 查看bot运行状态<br/>前端状态统计30s刷新一次|

[**access-control**插件](https://github.com/bot-ssttkkl/nonebot-plugin-access-control)  
`/ac service ls` 查看已注册服务  
`/ac permission ls` 查看已添加权限规则  
`/ac limit ls` 查看已添加频率限制规则， 用规则前面方括号里的哈希码删除规则  
`/ac permission allow --sbj <主体> --srv <服务>`：为主体启用服务  
`/ac permission deny --sbj <主体> --srv <服务>`：为主体禁用服务  
`/ac permission rm --sbj <主体> --srv <服务>`：为主体删除服务权限配置  
`/ac limit add --sbj <主体> --srv <服务> --limit <次数> --span <时间间隔> [--overwrite]`：  
为主体与服务添加限流规则  
`/ac limit rm <规则ID>`：删除限流规则  
常见主体: 所有`all`，超管`superuser`，单个用户`qq:12345678`，群`qq:g12345678`  
常见服务: bot服务模块参见`bf3090bot/bf1core/matcher.py`后半部分，不同级别用`.`分割，如  
`bf3090bot.rsp.vip.vipgm`，第三方插件直接使用下划线版本名称如`nonebot_plugin_picstatus`  